{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 36eab4ba82bf23fd6447","webpack:///./src/PriorityQueue.js"],"names":[],"mappings":"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","file":"./dist/KpPriorityQueue.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"KpLocalStorage\"] = factory();\n\telse\n\t\troot[\"KpLocalStorage\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 36eab4ba82bf23fd6447\n **/","class PriorityQueue {\n\n    // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER\n    constructor() {\n        this._serial = Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\n        this._queue = [];\n    }\n\n    getQueue(){\n        return this._queue;\n    }\n    enqueue(item) {\n\n        if(!item){\n            throw new Error('item not found');\n        }\n\n        if(!item.data){\n                throw new Error('data not found');\n        }\n\n        if(typeof item.priority !== 'number'){\n            throw new TypeError('priority not a number');\n        }\n\n        item.serial = this._serial--;\n        this._queue.push(item);\n        this.moveUp(this._queue.length - 1);\n        return this;\n    }\n\n    dequeue() {\n        let firstItem = this._queue[0];\n        let lastItem = this._queue.pop();\n        if (this._queue.length > 0) {\n            this._queue[0] = lastItem;\n            this.moveDown(0);\n        }\n        return firstItem;\n    }\n\n    top() {\n        return this._queue[0];\n    }\n    \n    remove(data){\n\n        let removeIndexMap = {};\n\n        for (let i = 0, l = this._queue.length; i < l; i++) {\n\n            if (this._queue[i].data === data) {\n                removeIndexMap[i] = true;\n            }\n        }\n\n        let copyQueue = this._queue.slice();\n\n        this.clear();\n\n        for (let i = 0, l = copyQueue.length; i < l; i++) {\n            if (!removeIndexMap[i]) {\n                this.enqueue(copyQueue[i]);\n            }\n        }\n\n        return this;\n    }\n\n    moveUp(pos) {\n\n        let parent;\n        let swap;\n\n        while (pos > 0) {\n\n            // 父节点位置为Math.floor(pos/2);\n            parent = (pos - 1) >>> 1;\n\n            // pos < parent pos => 交换位置\n            if (this.compare(this._queue[pos], this._queue[parent]) < 0) {\n                swap = this._queue[parent];\n                this._queue[parent] = this._queue[pos];\n                this._queue[pos] = swap;\n                pos = parent;\n            } else {\n                break;\n            }\n\n        }\n\n        return this;\n    }\n\n    moveDown(pos) {\n\n        let last = this._queue.length - 1;\n        let left;\n        let right;\n        let minIndex;\n        let swap;\n\n        while (true) {\n\n            left = (pos << 1) + 1;\n            right = left + 1;\n            minIndex = pos;\n\n            if (left <= last && this.compare(this._queue[left], this._queue[minIndex])) {\n                minIndex = left;\n            }\n\n            if (right <= last && this.compare(this._queue[right], this._queue[minIndex])) {\n                minIndex = right;\n            }\n\n            if (minIndex !== pos) {\n                swap = this._queue[minIndex];\n                this._queue[minIndex] = this._queue[pos];\n                this._queue[pos] = swap;\n                pos = minIndex;\n            } else {\n                break;\n            }\n        }\n\n\n        return this;\n    }\n\n    compare(item1, item2) {\n        let priority1 = item1.priority;\n        let priority2 = item2.priority;\n\n        if (priority1 === priority2) {\n            priority1 = item1.serial;\n            priority2 = item2.serial;\n        }\n\n        return priority2 - priority1;\n    }\n\n    count() {\n        return this._queue.length;\n    }\n\n    isEmpty() {\n        return !this.count();\n    }\n\n    clear() {\n        this._queue = [];\n        return this;\n    }\n\n}\n\nexport default PriorityQueue;\n\n\n/** WEBPACK FOOTER **\n ** ./~/jshint-loader!./src/PriorityQueue.js\n **/"],"sourceRoot":""}